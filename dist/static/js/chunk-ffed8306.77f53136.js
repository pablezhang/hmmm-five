(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ffed8306"],{"7d7d":function(t,e,a){"use strict";a.d(e,"c",(function(){return i})),a.d(e,"b",(function(){return s})),a.d(e,"d",(function(){return r})),a.d(e,"a",(function(){return o})),a.d(e,"h",(function(){return u})),a.d(e,"f",(function(){return l})),a.d(e,"g",(function(){return c})),a.d(e,"e",(function(){return d}));a("99af");var n=a("b775"),i=function(t){return Object(n["a"])({url:"/questions",params:t})},s=function(t){return Object(n["a"])({method:"delete",url:"/questions/".concat(t)})},r=function(t){return Object(n["a"])({url:"/questions/".concat(t)})},o=function(t){var e=t.id,a=t.choiceState;return Object(n["a"])({method:"patch",url:"/questions/choice/".concat(e,"/").concat(a)})},u=function(t){return Object(n["a"])({url:" /subjects/simple",params:t})},l=function(t){return Object(n["a"])({url:" /users/simple",params:t})},c=function(){return Object(n["b"])({url:"/api/province"})},d=function(t){return Object(n["b"])({url:"/api/city",params:t})}},8020:function(t,e,a){"use strict";a.d(e,"e",(function(){return i})),a.d(e,"b",(function(){return s})),a.d(e,"a",(function(){return r})),a.d(e,"c",(function(){return o})),a.d(e,"d",(function(){return u}));var n=a("b775"),i=function(t){return Object(n["a"])({url:"/tags",params:t})},s=function(t){return Object(n["a"])({url:"/tags/".concat(t),method:"delete"})},r=function(t){return Object(n["a"])({url:"/tags",method:"post",data:t})},o=function(t){return Object(n["a"])({url:"/tags/".concat(t)})},u=function(t){return Object(n["a"])({url:"/tags/".concat(t.id),method:"put",data:t})}},aa63:function(t,e,a){},bc20:function(t,e,a){"use strict";a("aa63")},d402:function(t,e,a){"use strict";a.d(e,"d",(function(){return i})),a.d(e,"e",(function(){return s})),a.d(e,"a",(function(){return r})),a.d(e,"c",(function(){return o})),a.d(e,"f",(function(){return u})),a.d(e,"g",(function(){return l})),a.d(e,"b",(function(){return c}));a("99af");var n=a("b775"),i=function(t){return Object(n["a"])({url:"/directorys",params:t})},s=function(){return Object(n["a"])({url:"/subjects/simple"})},r=function(t){return Object(n["a"])({url:"/directorys",method:"post",data:t})},o=function(t){return Object(n["a"])({url:"/directorys/".concat(t)})},u=function(t){return Object(n["a"])({url:"/directorys/".concat(t.id),method:"put",data:t})},l=function(t,e){return Object(n["a"])({url:"/directorys/".concat(t,"/").concat(e),method:"post"})},c=function(t){return Object(n["a"])({url:" /directorys/".concat(t),method:"delete"})}},da71:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t._self._c;return e("div",[e("el-card",{scopedSlots:t._u([{key:"header",fn:function(){return[t._v(" 试题录入 ")]},proxy:!0},{key:"default",fn:function(){return[e("el-form",{ref:"questionData",attrs:{"label-width":"120px",model:t.questionData,rules:t.rules}},[e("el-form-item",{attrs:{label:"学科:",prop:"subjectID"}},[e("el-select",{staticStyle:{width:"400px"},on:{change:t.onChange},model:{value:t.questionData.subjectID,callback:function(e){t.$set(t.questionData,"subjectID",e)},expression:"questionData.subjectID"}},t._l(t.subjectList,(function(t,a){return e("el-option",{key:a,attrs:{value:t.value,label:t.label}})})),1)],1),e("el-form-item",{attrs:{label:"目录:",prop:"catalogID"}},[e("el-select",{staticStyle:{width:"400px"},model:{value:t.questionData.catalogID,callback:function(e){t.$set(t.questionData,"catalogID",e)},expression:"questionData.catalogID"}},t._l(t.catalogList,(function(t){return e("el-option",{key:t.id,attrs:{value:t.id,label:t.directoryName}})})),1)],1),e("el-form-item",{attrs:{label:"企业:",prop:"enterpriseID"}},[e("el-select",{staticStyle:{width:"400px"},model:{value:t.questionData.enterpriseID,callback:function(e){t.$set(t.questionData,"enterpriseID",e)},expression:"questionData.enterpriseID"}},t._l(t.companyList,(function(t){return e("el-option",{key:t.id,attrs:{value:t.id,label:t.company}})})),1)],1),e("el-form-item",{attrs:{label:"城市:",prop:"city"}},[e("el-select",{staticStyle:{width:"198px","margin-right":"5px"},on:{change:t.onProvince},model:{value:t.questionData.province,callback:function(e){t.$set(t.questionData,"province",e)},expression:"questionData.province"}},t._l(t.provinceList,(function(t,a){return e("el-option",{key:a,attrs:{value:t,label:t}})})),1),e("el-select",{staticStyle:{width:"198px"},model:{value:t.questionData.city,callback:function(e){t.$set(t.questionData,"city",e)},expression:"questionData.city"}},t._l(t.cityList,(function(t,a){return e("el-option",{key:a,attrs:{value:t,label:t}})})),1)],1),e("el-form-item",{attrs:{label:"方向:",prop:"direction"}},[e("el-select",{staticStyle:{width:"400px"},model:{value:t.questionData.direction,callback:function(e){t.$set(t.questionData,"direction",e)},expression:"questionData.direction"}},[e("el-option",{attrs:{value:"o2o",label:"o2o"}}),e("el-option",{attrs:{value:"外包服务",label:"外包服务"}}),e("el-option",{attrs:{value:"企业服务",label:"企业服务"}}),e("el-option",{attrs:{value:"互联网金融",label:"互联网金融"}}),e("el-option",{attrs:{value:"企业咨询",label:"企业咨询"}}),e("el-option",{attrs:{value:"互联网",label:"互联网"}}),e("el-option",{attrs:{value:"电子商务",label:"电子商务"}}),e("el-option",{attrs:{value:"其他",label:"其他"}})],1)],1),e("el-form-item",{attrs:{label:"题型:",prop:"questionType"}},[e("el-radio-group",{model:{value:t.questionData.questionType,callback:function(e){t.$set(t.questionData,"questionType",e)},expression:"questionData.questionType"}},[e("el-radio",{attrs:{label:"1"}},[t._v("单选")]),e("el-radio",{attrs:{label:"2"}},[t._v("多选")]),e("el-radio",{attrs:{label:"3"}},[t._v("简答")])],1)],1),e("el-form-item",{attrs:{label:"难度:",prop:"difficulty"}},[e("el-radio-group",{model:{value:t.questionData.difficulty,callback:function(e){t.$set(t.questionData,"difficulty",e)},expression:"questionData.difficulty"}},[e("el-radio",{attrs:{label:"1"}},[t._v("简单")]),e("el-radio",{attrs:{label:"2"}},[t._v("一般")]),e("el-radio",{attrs:{label:"3"}},[t._v("困难")])],1)],1),e("el-form-item",{staticClass:"textEdit",attrs:{label:"题干:",prop:"question"}},[e("quillEditor",{staticStyle:{width:"800px",height:"200px"},attrs:{options:t.editorOption},model:{value:t.questionData.question,callback:function(e){t.$set(t.questionData,"question",e)},expression:"questionData.question"}})],1),e("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"3"!==t.questionData.questionType,expression:"questionData.questionType!=='3'"}],attrs:{label:"选项:",prop:"options"}},[t._l(t.questionDataList,(function(a,n){return e("div",{key:n,staticClass:"option"},[e("el-radio",{directives:[{name:"show",rawName:"v-show",value:"1"===t.questionData.questionType,expression:"questionData.questionType ==='1'"}],attrs:{label:!0},nativeOn:{click:function(e){return t.radioChange(a.num)}},model:{value:a.isRight,callback:function(e){t.$set(a,"isRight",e)},expression:"item.isRight"}},[t._v(t._s(a.code))]),e("el-checkbox",{directives:[{name:"show",rawName:"v-show",value:"1"!==t.questionData.questionType,expression:"questionData.questionType!=='1'"}],staticStyle:{"margin-right":"15px"},model:{value:a.isRight,callback:function(e){t.$set(a,"isRight",e)},expression:"item.isRight"}},[t._v(t._s(a.code))]),e("el-input",{staticStyle:{width:"240px"},model:{value:a.title,callback:function(e){t.$set(a,"title",e)},expression:"item.title"}}),e("el-upload",{staticClass:"avatar-uploader",attrs:{action:"","show-file-list":!1,"before-upload":t.beforeAvatarUpload,"http-request":t.uploadImage},nativeOn:{click:function(e){return t.onPic(a.code)}}},[t.questionDataList[a.num].img?e("img",{staticClass:"avatar",attrs:{src:t.questionDataList[a.num].img}}):e("span",[t._v("上传图片")]),e("i",{staticClass:"el-icon-circle-close"})])],1)})),"1"===t.questionData.questionType?e("el-button",{staticClass:"disableOption",attrs:{disabled:""}},[t._v("+增加选项与答案")]):e("el-button",{staticClass:"addOption",on:{click:t.onAddOption}},[t._v("+增加选项与答案")])],2),e("el-form-item",{attrs:{label:"解析视频:"}},[e("el-input",{staticStyle:{width:"400px"},model:{value:t.questionData.videoURL,callback:function(e){t.$set(t.questionData,"videoURL",e)},expression:"questionData.videoURL"}})],1),e("el-form-item",{staticClass:"textEdit",attrs:{label:"答案解析:",prop:"answer"}},[e("quillEditor",{staticStyle:{width:"800px",height:"200px"},attrs:{options:t.editorOption},model:{value:t.questionData.answer,callback:function(e){t.$set(t.questionData,"answer",e)},expression:"questionData.answer"}})],1),e("el-form-item",{attrs:{label:"题目备注:"}},[e("el-input",{staticStyle:{width:"400px"},attrs:{type:"textarea",rows:"4"},model:{value:t.questionData.remarks,callback:function(e){t.$set(t.questionData,"remarks",e)},expression:"questionData.remarks"}})],1),e("el-form-item",{attrs:{label:"试题标签:"}},[e("el-select",{staticStyle:{width:"400px"},attrs:{placeholder:"请选择试题标签"},model:{value:t.questionData.tags,callback:function(e){t.$set(t.questionData,"tags",e)},expression:"questionData.tags"}},t._l(t.tagsList,(function(t){return e("el-option",{key:t.id,attrs:{value:t.id,label:t.tagName}})})),1)],1),e("el-form-item",[e("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("确认提交")])],1)],1)]},proxy:!0}])})],1)},i=[],s=a("2909"),r=a("c7eb"),o=a("1da1"),u=(a("14d9"),a("d3b7"),a("159b"),a("d81d"),a("caad"),a("b0c0"),a("c740"),a("a753"),a("8096"),a("14e1"),a("953d")),l=a("b775"),c=function(){return Object(l["a"])({url:"/subjects/simple"})},d=function(t){return Object(l["a"])({url:"/companys"})},p=function(t){return Object(l["a"])({url:"/questions",method:"post",data:t})},b=a("d402"),f=a("8020"),m=a("7d7d"),g=a("40b3"),h=a.n(g),q=a("5c96"),v={components:{quillEditor:u["quillEditor"]},data:function(){return{i:-1,index1:3,currentPic:null,subjectList:[],catalogList:[],companyList:[],tagsList:[],provinceList:[],cityList:[],imageUrl:null,checkOption:[],questionData:{options:{code:null,title:null,img:null,isRight:null},subjectID:null,catalogID:null,enterpriseID:null,province:null,city:null,direction:null,questionType:"1",difficulty:"1",question:null,answer:null,remarks:null,tags:null,videoURL:null},alphabet:["E:","F:","G:","H:","I:","J:","K:","L:","M:","N:","O:","P:","Q:","R:","S:","T:","U:","V:","W:","X:","Y:","Z:"],questionDataList:[{code:"A:",title:"",img:null,num:0,isRight:!1},{code:"B:",title:"",img:null,num:1,isRight:!1},{code:"C:",title:"",img:null,num:2,isRight:!1},{code:"D:",title:"",img:null,num:3,isRight:!1}],editorOption:{modules:{toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],[{list:"ordered"},{list:"bullet"}],["link","image"]]},theme:"snow"},rules:{subjectID:[{required:!0,message:"请选择学科",trigger:["blur","change"]}],catalogID:[{required:!0,message:"请选择目录",trigger:["blur","change"]}],enterpriseID:[{required:!0,message:"请选择企业",trigger:["blur","change"]}],city:[{required:!0,message:"请选择城市",trigger:["blur","change"]}],direction:[{required:!0,message:"请选择方向",trigger:["blur","change"]}],questionType:[{required:!0,message:"请选择题型",trigger:["blur","change"]}],difficulty:[{required:!0,message:"请选择难度",trigger:["blur","change"]}],question:[{required:!0,message:"请输入题干",trigger:"blur"}],answer:[{required:!0,message:"请输入答案解析",trigger:"blur"}],options:[{required:!0,message:"请输入选项",trigger:"blur"}]}}},created:function(){this.loadData()},methods:{loadData:function(){var t=this;return Object(o["a"])(Object(r["a"])().mark((function e(){var a,n,i,s,o;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c();case 2:return a=e.sent,t.subjectList=a,e.next=6,d();case 6:return n=e.sent,i=n.items,t.companyList=i,e.next=11,Object(m["g"])();case 11:s=e.sent,o=s.data,t.provinceList=o.list;case 14:case"end":return e.stop()}}),e)})))()},onChange:function(t){var e=this;return Object(o["a"])(Object(r["a"])().mark((function a(){var n,i,s;return Object(r["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(b["d"])({subjectID:t});case 2:return n=a.sent,i=n.items,e.catalogList=i,a.next=7,Object(f["e"])({subjectID:t});case 7:s=a.sent,e.tagsList=s.items;case 9:case"end":return a.stop()}}),a)})))()},onProvince:function(t){var e=this;return Object(o["a"])(Object(r["a"])().mark((function a(){var n,i;return Object(r["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(m["e"])({pname:t});case 2:n=a.sent,i=n.data,e.cityList=i.list;case 5:case"end":return a.stop()}}),a)})))()},onAddOption:function(){this.i++,this.index1++,this.questionDataList.push({code:this.alphabet[this.i],title:"",img:"",num:this.index1})},radioChange:function(t){this.questionDataList.forEach((function(t){t.isRight=!1})),this.questionDataList[t].isRight=!0},onPic:function(t){this.currentPic=t},onSubmit:function(){var t=this;return Object(o["a"])(Object(r["a"])().mark((function e(){return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$refs.questionData.validate();case 2:return t.questionData.options=Object(s["a"])(t.questionDataList),t.questionData.options=t.questionData.options.map((function(t){return delete t.num,t})),e.next=6,p(t.questionData);case 6:q["Message"].success("添加成功"),t.$router.push("/questions/list");case 8:case"end":return e.stop()}}),e)})))()},beforeAvatarUpload:function(t){var e=["image/jpeg","image/png","image/gif","image/bmp"].includes(t.type),a=t.size/1024/1024<2;return e||this.$message.error("上传头像图片只能是 JPG PNG GIF BMP 格式!"),a||this.$message.error("上传头像图片大小不能超过 2MB!"),e&&a},uploadImage:function(t){var e=this,a=new h.a({SecretId:"AKIDxRtLk6kMuOoDawFTkwcFoKl950pfeadg",SecretKey:"AZwyyvsn0ACB76RjjgZk3FMNJBwaIztv"});a.putObject({Bucket:"kuaile-1318626737",Region:"ap-nanjing",Key:t.file.name,StorageClass:"STANDARD",Body:t.file},(function(t,a){if(200===a.statusCode&&a.Location){e.index1++;var n=e.questionDataList.findIndex((function(t){return t.code===e.currentPic}));e.questionDataList[n].img="http://"+a.Location}else e.$message.error(t.message)}))}}},D=v,y=(a("bc20"),a("2877")),x=Object(y["a"])(D,n,i,!1,null,"d932e6ba",null);e["default"]=x.exports}}]);